(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["javascript-winwheel"],{"0a7b":function(t,e,i){},1148:function(t,e,i){"use strict";var n=i("a691"),a=i("1d80");t.exports="".repeat||function(t){var e=String(a(this)),i="",s=n(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(i+=e);return i}},1276:function(t,e,i){"use strict";var n=i("d784"),a=i("44e7"),s=i("825a"),r=i("1d80"),l=i("4840"),o=i("8aa5"),h=i("50c4"),c=i("14c3"),u=i("9263"),g=i("d039"),d=[].push,m=Math.min,p=4294967295,f=!g((function(){return!RegExp(p,"y")}));n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(r(this)),s=void 0===i?p:i>>>0;if(0===s)return[];if(void 0===t)return[n];if(!a(t))return e.call(n,t,s);var l,o,h,c=[],g=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,f=new RegExp(t.source,g+"g");while(l=u.call(f,n)){if(o=f.lastIndex,o>m&&(c.push(n.slice(m,l.index)),l.length>1&&l.index<n.length&&d.apply(c,l.slice(1)),h=l[0].length,m=o,c.length>=s))break;f.lastIndex===l.index&&f.lastIndex++}return m===n.length?!h&&f.test("")||c.push(""):c.push(n.slice(m)),c.length>s?c.slice(0,s):c}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var a=r(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,a,i):n.call(String(a),e,i)},function(t,a){var r=i(n,t,this,a,n!==e);if(r.done)return r.value;var u=s(t),g=String(this),d=l(u,RegExp),w=u.unicode,x=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"y":"g"),v=new d(f?u:"^(?:"+u.source+")",x),A=void 0===a?p:a>>>0;if(0===A)return[];if(0===g.length)return null===c(v,g)?[g]:[];var _=0,y=0,S=[];while(y<g.length){v.lastIndex=f?y:0;var D,T=c(v,f?g:g.slice(y));if(null===T||(D=m(h(v.lastIndex+(f?0:y)),g.length))===_)y=o(g,y,w);else{if(S.push(g.slice(_,y)),S.length===A)return S;for(var b=1;b<=T.length-1;b++)if(S.push(T[b]),S.length===A)return S;y=_=D}}return S.push(g.slice(_)),S}]}),!f)},"14c3":function(t,e,i){var n=i("c6b6"),a=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var s=i.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"30e8":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_fill__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("cb29"),core_js_modules_es_array_fill__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_fill__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_string_repeat__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("38cf"),core_js_modules_es_string_repeat__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_string_repeat__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("1276"),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2__),gsap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("cffa");function Winwheel(t,e){var i={canvasId:"canvas",centerX:null,centerY:null,outerRadius:null,innerRadius:0,numSegments:1,drawMode:"code",rotationAngle:0,textFontFamily:"Arial",textFontSize:20,textFontWeight:"bold",textOrientation:"horizontal",textAlignment:"center",textDirection:"normal",textMargin:null,textFillStyle:"black",textStrokeStyle:null,textLineWidth:1,fillStyle:"silver",strokeStyle:"black",lineWidth:1,clearTheCanvas:!0,imageOverlay:!1,drawText:!0,pointerAngle:0,wheelImage:null,imageDirection:"N",responsive:!1,scaleFactor:1};for(var n in i)null!==t&&"undefined"!==typeof t&&"undefined"!==typeof t[n]?this[n]=t[n]:this[n]=i[n];if(null!==t)for(var a in t)"undefined"===typeof this[a]&&(this[a]=t[a]);this.canvasId?(this.canvas=document.getElementById(this.canvasId),this.canvas?(null===this.centerX&&(this.centerX=this.canvas.width/2),null===this.centerY&&(this.centerY=this.canvas.height/2),null===this.outerRadius&&(this.canvas.width<this.canvas.height?this.outerRadius=this.canvas.width/2-this.lineWidth:this.outerRadius=this.canvas.height/2-this.lineWidth),this.ctx=this.canvas.getContext("2d")):(this.canvas=null,this.ctx=null)):(this.canvas=null,this.ctx=null),this.segments=new Array(null);for(var s=1;s<=this.numSegments;s++)null!==t&&t["segments"]&&"undefined"!==typeof t["segments"][s-1]?this.segments[s]=new Segment(t["segments"][s-1]):this.segments[s]=new Segment;if(this.updateSegmentSizes(),null===this.textMargin&&(this.textMargin=this.textFontSize/1.7),null!==t&&t["animation"]&&"undefined"!==typeof t["animation"]?this.animation=new Animation(t["animation"]):this.animation=new Animation,null!==t&&t["pins"]&&"undefined"!==typeof t["pins"]&&(this.pins=new Pin(t["pins"])),"image"===this.drawMode||"segmentImage"===this.drawMode?("undefined"===typeof t["fillStyle"]&&(this.fillStyle=null),"undefined"===typeof t["strokeStyle"]&&(this.strokeStyle="red"),"undefined"===typeof t["drawText"]&&(this.drawText=!1),"undefined"===typeof t["lineWidth"]&&(this.lineWidth=1),"undefined"===typeof e&&(e=!1)):"undefined"===typeof e&&(e=!0),null!==t&&t["pointerGuide"]&&"undefined"!==typeof t["pointerGuide"]?this.pointerGuide=new PointerGuide(t["pointerGuide"]):this.pointerGuide=new PointerGuide,this.responsive&&(winwheelToDrawDuringAnimation=this,this._originalCanvasWidth=this.canvas.width,this._originalCanvasHeight=this.canvas.height,this._responsiveScaleHeight=this.canvas.dataset.responsivescaleheight,this._responsiveMinWidth=this.canvas.dataset.responsiveminwidth,this._responsiveMinHeight=this.canvas.dataset.responsiveminheight,this._responsiveMargin=this.canvas.dataset.responsivemargin,window.addEventListener("load",winwheelResize),window.addEventListener("resize",winwheelResize)),!0===e)this.draw(this.clearTheCanvas);else if("segmentImage"===this.drawMode){winwheelToDrawDuringAnimation=this,winhweelAlreadyDrawn=!1;for(var r=1;r<=this.numSegments;r++)null!==this.segments[r].image&&(this.segments[r].imgData=new Image,this.segments[r].imgData.onload=winwheelLoadedImage,this.segments[r].imgData.src=this.segments[r].image)}}function Pin(t){var e={visible:!0,number:36,outerRadius:3,fillStyle:"grey",strokeStyle:"black",lineWidth:1,margin:3,responsive:!1};for(var i in e)null!==t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i];if(null!==t)for(var n in t)"undefined"===typeof this[n]&&(this[n]=t[n])}function Animation(t){var e={type:"spinOngoing",direction:"clockwise",propertyName:null,propertyValue:null,duration:10,yoyo:!1,repeat:null,easing:null,stopAngle:null,spins:null,clearTheCanvas:null,callbackFinished:null,callbackBefore:null,callbackAfter:null,callbackSound:null,soundTrigger:"segment"};for(var i in e)null!==t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i];if(null!==t)for(var n in t)"undefined"===typeof this[n]&&(this[n]=t[n])}function Segment(t){var e={size:null,text:"",fillStyle:null,strokeStyle:null,lineWidth:null,textFontFamily:null,textFontSize:null,textFontWeight:null,textOrientation:null,textAlignment:null,textDirection:null,textMargin:null,textFillStyle:null,textStrokeStyle:null,textLineWidth:null,image:null,imageDirection:null,imgData:null};for(var i in e)null!==t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i];if(null!==t)for(var n in t)"undefined"===typeof this[n]&&(this[n]=t[n]);this.startAngle=0,this.endAngle=0}function PointerGuide(t){var e={display:!1,strokeStyle:"red",lineWidth:3};for(var i in e)null!==t&&"undefined"!==typeof t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i]}function winwheelAnimationLoop(){if(winwheelToDrawDuringAnimation){!1!==winwheelToDrawDuringAnimation.animation.clearTheCanvas&&winwheelToDrawDuringAnimation.ctx.clearRect(0,0,winwheelToDrawDuringAnimation.canvas.width,winwheelToDrawDuringAnimation.canvas.height);var callbackBefore=winwheelToDrawDuringAnimation.animation.callbackBefore,callbackAfter=winwheelToDrawDuringAnimation.animation.callbackAfter;null!==callbackBefore&&("function"===typeof callbackBefore?callbackBefore():eval(callbackBefore)),winwheelToDrawDuringAnimation.draw(!1),null!==callbackAfter&&("function"===typeof callbackAfter?callbackAfter():eval(callbackAfter)),winwheelToDrawDuringAnimation.animation.callbackSound&&winwheelTriggerSound()}}function winwheelTriggerSound(){!1===winwheelToDrawDuringAnimation.hasOwnProperty("_lastSoundTriggerNumber")&&(winwheelToDrawDuringAnimation._lastSoundTriggerNumber=0);var callbackSound=winwheelToDrawDuringAnimation.animation.callbackSound,currentTriggerNumber=0;currentTriggerNumber="pin"===winwheelToDrawDuringAnimation.animation.soundTrigger?winwheelToDrawDuringAnimation.getCurrentPinNumber():winwheelToDrawDuringAnimation.getIndicatedSegmentNumber(),currentTriggerNumber!==winwheelToDrawDuringAnimation._lastSoundTriggerNumber&&("function"===typeof callbackSound?callbackSound():eval(callbackSound),winwheelToDrawDuringAnimation._lastSoundTriggerNumber=currentTriggerNumber)}Winwheel.prototype.updateSegmentSizes=function(){if(this.segments){for(var t=0,e=0,i=1;i<=this.numSegments;i++)null!==this.segments[i].size&&(t+=this.segments[i].size,e++);var n=360-t,a=0;n>0&&(a=n/(this.numSegments-e));for(var s=0,r=1;r<=this.numSegments;r++)this.segments[r].startAngle=s,this.segments[r].size?s+=this.segments[r].size:s+=a,this.segments[r].endAngle=s}},Winwheel.prototype.clearCanvas=function(){this.ctx&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},Winwheel.prototype.draw=function(t){this.ctx&&("undefined"!==typeof t?!0===t&&this.clearCanvas():this.clearCanvas(),"image"===this.drawMode?(this.drawWheelImage(),!0===this.drawText&&this.drawSegmentText(),!0===this.imageOverlay&&this.drawSegments()):"segmentImage"===this.drawMode?(this.drawSegmentImages(),!0===this.drawText&&this.drawSegmentText(),!0===this.imageOverlay&&this.drawSegments()):(this.drawSegments(),!0===this.drawText&&this.drawSegmentText()),"undefined"!==typeof this.pins&&!0===this.pins.visible&&this.drawPins(),!0===this.pointerGuide.display&&this.drawPointerGuide())},Winwheel.prototype.drawPins=function(){if(this.pins&&this.pins.number){var t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.outerRadius*this.scaleFactor,n=this.pins.outerRadius,a=this.pins.margin;this.pins.responsive&&(n=this.pins.outerRadius*this.scaleFactor,a=this.pins.margin*this.scaleFactor);for(var s=360/this.pins.number,r=1;r<=this.pins.number;r++)this.ctx.save(),this.ctx.strokeStyle=this.pins.strokeStyle,this.ctx.lineWidth=this.pins.lineWidth,this.ctx.fillStyle=this.pins.fillStyle,this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(r*s+this.rotationAngle)),this.ctx.translate(-t,-e),this.ctx.beginPath(),this.ctx.arc(t,e-i+n+a,n,0,2*Math.PI),this.pins.fillStyle&&this.ctx.fill(),this.pins.strokeStyle&&this.ctx.stroke(),this.ctx.restore()}},Winwheel.prototype.drawPointerGuide=function(){if(this.ctx){var t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.outerRadius*this.scaleFactor;this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.pointerAngle)),this.ctx.translate(-t,-e),this.ctx.strokeStyle=this.pointerGuide.strokeStyle,this.ctx.lineWidth=this.pointerGuide.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(t,-i/4),this.ctx.stroke(),this.ctx.restore()}},Winwheel.prototype.drawWheelImage=function(){if(null!==this.wheelImage){var t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.wheelImage.width*this.scaleFactor,n=this.wheelImage.height*this.scaleFactor,a=t-i/2,s=e-n/2;this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.rotationAngle)),this.ctx.translate(-t,-e),this.ctx.drawImage(this.wheelImage,a,s,i,n),this.ctx.restore()}},Winwheel.prototype.drawSegmentImages=function(){if(this.ctx){var t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor;if(this.segments)for(var i=1;i<=this.numSegments;i++){var n=this.segments[i];if(n.imgData.height){var a=0,s=0,r=0,l="",o=n.imgData.width*this.scaleFactor,h=n.imgData.height*this.scaleFactor;l=null!==n.imageDirection?n.imageDirection:this.imageDirection,"S"===l?(a=t-o/2,s=e,r=n.startAngle+180+(n.endAngle-n.startAngle)/2):"E"===l?(a=t,s=e-h/2,r=n.startAngle+270+(n.endAngle-n.startAngle)/2):"W"===l?(a=t-o,s=e-h/2,r=n.startAngle+90+(n.endAngle-n.startAngle)/2):(a=t-o/2,s=e-h,r=n.startAngle+(n.endAngle-n.startAngle)/2),this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.rotationAngle+r)),this.ctx.translate(-t,-e),this.ctx.drawImage(n.imgData,a,s,o,h),this.ctx.restore()}else console.log("Segment "+i+" imgData is not loaded")}}},Winwheel.prototype.drawSegments=function(){if(this.ctx&&this.segments)for(var t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.innerRadius*this.scaleFactor,n=this.outerRadius*this.scaleFactor,a=1;a<=this.numSegments;a++){var s=this.segments[a],r=void 0,l=void 0,o=void 0;if(r=null!==s.fillStyle?s.fillStyle:this.fillStyle,this.ctx.fillStyle=r,l=null!==s.lineWidth?s.lineWidth:this.lineWidth,this.ctx.lineWidth=l,o=null!==s.strokeStyle?s.strokeStyle:this.strokeStyle,this.ctx.strokeStyle=o,o||r){if(this.ctx.beginPath(),this.innerRadius){var h=Math.cos(this.degToRad(s.startAngle+this.rotationAngle-90))*(i-l/2),c=Math.sin(this.degToRad(s.startAngle+this.rotationAngle-90))*(i-l/2);this.ctx.moveTo(t+h,e+c)}else this.ctx.moveTo(t,e);this.ctx.arc(t,e,n,this.degToRad(s.startAngle+this.rotationAngle-90),this.degToRad(s.endAngle+this.rotationAngle-90),!1),this.innerRadius?this.ctx.arc(t,e,i,this.degToRad(s.endAngle+this.rotationAngle-90),this.degToRad(s.startAngle+this.rotationAngle-90),!0):this.ctx.lineTo(t,e),r&&this.ctx.fill(),o&&this.ctx.stroke()}}},Winwheel.prototype.drawSegmentText=function(){if(this.ctx)for(var t,e,i,n,a,s,r,l,o,h,c=this.centerX*this.scaleFactor,u=this.centerY*this.scaleFactor,g=this.outerRadius*this.scaleFactor,d=this.innerRadius*this.scaleFactor,m=1;m<=this.numSegments;m++){this.ctx.save();var p=this.segments[m];if(p.text){t=null!==p.textFontFamily?p.textFontFamily:this.textFontFamily,e=null!==p.textFontSize?p.textFontSize:this.textFontSize,i=null!==p.textFontWeight?p.textFontWeight:this.textFontWeight,n=null!==p.textOrientation?p.textOrientation:this.textOrientation,a=null!==p.textAlignment?p.textAlignment:this.textAlignment,s=null!==p.textDirection?p.textDirection:this.textDirection,r=null!==p.textMargin?p.textMargin:this.textMargin,l=null!==p.textFillStyle?p.textFillStyle:this.textFillStyle,o=null!==p.textStrokeStyle?p.textStrokeStyle:this.textStrokeStyle,h=null!==p.textLineWidth?p.textLineWidth:this.textLineWidth,e*=this.scaleFactor,r*=this.scaleFactor;var f="";null!==i&&(f+=i+" "),null!==e&&(f+=e+"px "),null!==t&&(f+=t),this.ctx.font=f,this.ctx.fillStyle=l,this.ctx.strokeStyle=o,this.ctx.lineWidth=h;var w=p.text.split("\n"),x=0-e*(w.length/2)+e/2;"curved"!==n||"inner"!==a&&"outer"!==a||(x=0);for(var v=0;v<w.length;v++){if("reversed"===s){if("horizontal"===n){this.ctx.textAlign="inner"===a?"right":"outer"===a?"left":"center",this.ctx.textBaseline="middle";var A=this.degToRad(p.endAngle-(p.endAngle-p.startAngle)/2+this.rotationAngle-90-180);this.ctx.save(),this.ctx.translate(c,u),this.ctx.rotate(A),this.ctx.translate(-c,-u),"inner"===a?(l&&this.ctx.fillText(w[v],c-d-r,u+x),o&&this.ctx.strokeText(w[v],c-d-r,u+x)):"outer"===a?(l&&this.ctx.fillText(w[v],c-g+r,u+x),o&&this.ctx.strokeText(w[v],c-g+r,u+x)):(l&&this.ctx.fillText(w[v],c-d-(g-d)/2-r,u+x),o&&this.ctx.strokeText(w[v],c-d-(g-d)/2-r,u+x)),this.ctx.restore()}else if("vertical"===n){this.ctx.textAlign="center",this.ctx.textBaseline="inner"===a?"top":"outer"===a?"bottom":"middle";var _=p.endAngle-(p.endAngle-p.startAngle)/2-180;_+=this.rotationAngle,this.ctx.save(),this.ctx.translate(c,u),this.ctx.rotate(this.degToRad(_)),this.ctx.translate(-c,-u);var y=0;"outer"===a?y=u+g-r:"inner"===a&&(y=u+d+r);var S=e-e/9;if("outer"===a)for(var D=w[v].length-1;D>=0;D--){var T=w[v].charAt(D);l&&this.ctx.fillText(T,c+x,y),o&&this.ctx.strokeText(T,c+x,y),y-=S}else if("inner"===a)for(var b=0;b<w[v].length;b++){var k=w[v].charAt(b);l&&this.ctx.fillText(k,c+x,y),o&&this.ctx.strokeText(k,c+x,y),y+=S}else if("center"===a){var W=0;w[v].length>1&&(W=S*(w[v].length-1)/2);for(var R=u+d+(g-d)/2+W+r,M=w[v].length-1;M>=0;M--){var F=w[v].charAt(M);l&&this.ctx.fillText(F,c+x,R),o&&this.ctx.strokeText(F,c+x,R),R-=S}}this.ctx.restore()}else if("curved"===n){var I=0;"inner"===a?(I=d+r,this.ctx.textBaseline="top"):"outer"===a?(I=g-r,this.ctx.textBaseline="bottom",I-=e*(w.length-1)):"center"===a&&(I=d+r+(g-d)/2,this.ctx.textBaseline="middle");var P=0,E=0;if(w[v].length>1){this.ctx.textAlign="left",P=e/10*4;var C=100/I;P*=C;var z=P*w[v].length;E=p.startAngle+((p.endAngle-p.startAngle)/2-z/2)}else E=p.startAngle+(p.endAngle-p.startAngle)/2,this.ctx.textAlign="center";E+=this.rotationAngle,E-=180;for(var O=w[v].length;O>=0;O--){this.ctx.save();var B=w[v].charAt(O);this.ctx.translate(c,u),this.ctx.rotate(this.degToRad(E)),this.ctx.translate(-c,-u),o&&this.ctx.strokeText(B,c,u+I+x),l&&this.ctx.fillText(B,c,u+I+x),E+=P,this.ctx.restore()}}}else if("horizontal"===n){this.ctx.textAlign="inner"===a?"left":"outer"===a?"right":"center",this.ctx.textBaseline="middle";var L=this.degToRad(p.endAngle-(p.endAngle-p.startAngle)/2+this.rotationAngle-90);this.ctx.save(),this.ctx.translate(c,u),this.ctx.rotate(L),this.ctx.translate(-c,-u),"inner"===a?(l&&this.ctx.fillText(w[v],c+d+r,u+x),o&&this.ctx.strokeText(w[v],c+d+r,u+x)):"outer"===a?(l&&this.ctx.fillText(w[v],c+g-r,u+x),o&&this.ctx.strokeText(w[v],c+g-r,u+x)):(l&&this.ctx.fillText(w[v],c+d+(g-d)/2+r,u+x),o&&this.ctx.strokeText(w[v],c+d+(g-d)/2+r,u+x)),this.ctx.restore()}else if("vertical"===n){this.ctx.textAlign="center",this.ctx.textBaseline="inner"===a?"bottom":"outer"===a?"top":"middle";var N=p.endAngle-(p.endAngle-p.startAngle)/2;N+=this.rotationAngle,this.ctx.save(),this.ctx.translate(c,u),this.ctx.rotate(this.degToRad(N)),this.ctx.translate(-c,-u);var V=0;"outer"===a?V=u-g+r:"inner"===a&&(V=u-d-r);var G=e-e/9;if("outer"===a)for(var j=0;j<w[v].length;j++){var U=w[v].charAt(j);l&&this.ctx.fillText(U,c+x,V),o&&this.ctx.strokeText(U,c+x,V),V+=G}else if("inner"===a)for(var X=w[v].length-1;X>=0;X--){var Y=w[v].charAt(X);l&&this.ctx.fillText(Y,c+x,V),o&&this.ctx.strokeText(Y,c+x,V),V-=G}else if("center"===a){var K=0;w[v].length>1&&(K=G*(w[v].length-1)/2);for(var q=u-d-(g-d)/2-K-r,H=0;H<w[v].length;H++){var $=w[v].charAt(H);l&&this.ctx.fillText($,c+x,q),o&&this.ctx.strokeText($,c+x,q),q+=G}}this.ctx.restore()}else if("curved"===n){var J=0;"inner"===a?(J=d+r,this.ctx.textBaseline="bottom",J+=e*(w.length-1)):"outer"===a?(J=g-r,this.ctx.textBaseline="top"):"center"===a&&(J=d+r+(g-d)/2,this.ctx.textBaseline="middle");var Q=0,Z=0;if(w[v].length>1){this.ctx.textAlign="left",Q=e/10*4;var tt=100/J;Q*=tt;var et=Q*w[v].length;Z=p.startAngle+((p.endAngle-p.startAngle)/2-et/2)}else Z=p.startAngle+(p.endAngle-p.startAngle)/2,this.ctx.textAlign="center";Z+=this.rotationAngle;for(var it=0;it<w[v].length;it++){this.ctx.save();var nt=w[v].charAt(it);this.ctx.translate(c,u),this.ctx.rotate(this.degToRad(Z)),this.ctx.translate(-c,-u),o&&this.ctx.strokeText(nt,c,u-J+x),l&&this.ctx.fillText(nt,c,u-J+x),Z+=Q,this.ctx.restore()}}x+=e}}this.ctx.restore()}},Winwheel.prototype.degToRad=function(t){return.017453292519943295*t},Winwheel.prototype.setCenter=function(t,e){this.centerX=t,this.centerY=e},Winwheel.prototype.addSegment=function(t,e){var i,n=new Segment(t);if(this.numSegments++,"undefined"!==typeof e){for(var a=this.numSegments;a>e;a--)this.segments[a]=this.segments[a-1];this.segments[e]=n,i=e}else this.segments[this.numSegments]=n,i=this.numSegments;return this.updateSegmentSizes(),this.segments[i]},Winwheel.prototype.setCanvasId=function(t){t?(this.canvasId=t,this.canvas=document.getElementById(this.canvasId),this.canvas&&(this.ctx=this.canvas.getContext("2d"))):(this.canvasId=null,this.ctx=null,this.canvas=null)},Winwheel.prototype.deleteSegment=function(t){if(this.numSegments>1){if("undefined"!==typeof t)for(var e=t;e<this.numSegments;e++)this.segments[e]=this.segments[e+1];this.segments[this.numSegments]=void 0,this.numSegments--,this.updateSegmentSizes()}},Winwheel.prototype.windowToCanvas=function(t,e){var i=this.canvas.getBoundingClientRect();return{x:Math.floor(t-i.left*(this.canvas.width/i.width)),y:Math.floor(e-i.top*(this.canvas.height/i.height))}},Winwheel.prototype.getSegmentAt=function(t,e){var i=null,n=this.getSegmentNumberAt(t,e);return null!==n&&(i=this.segments[n]),i},Winwheel.prototype.getSegmentNumberAt=function(t,e){var i,n,a,s,r,l=this.windowToCanvas(t,e),o=this.centerX*this.scaleFactor,h=this.centerY*this.scaleFactor,c=this.outerRadius*this.scaleFactor,u=this.innerRadius*this.scaleFactor;l.x>o?(a=l.x-o,n="R"):(a=o-l.x,n="L"),l.y>h?(s=l.y-h,i="B"):(s=h-l.y,i="T");var g=s/a,d=180*Math.atan(g)/Math.PI,m=0;if(r=Math.sqrt(s*s+a*a),"T"===i&&"R"===n?m=Math.round(90-d):"B"===i&&"R"===n?m=Math.round(d+90):"B"===i&&"L"===n?m=Math.round(90-d+180):"T"===i&&"L"===n&&(m=Math.round(d+270)),0!==this.rotationAngle){var p=this.getRotationPosition();m-=p,m<0&&(m=360-Math.abs(m))}for(var f=null,w=1;w<=this.numSegments;w++)if(m>=this.segments[w].startAngle&&m<=this.segments[w].endAngle&&r>=u&&r<=c){f=w;break}return f},Winwheel.prototype.getIndicatedSegment=function(){var t=this.getIndicatedSegmentNumber();return this.segments[t]},Winwheel.prototype.getIndicatedSegmentNumber=function(){var t=0,e=this.getRotationPosition(),i=Math.floor(this.pointerAngle-e);i<0&&(i=360-Math.abs(i));for(var n=1;n<this.segments.length;n++)if(i>=this.segments[n]["startAngle"]&&i<=this.segments[n]["endAngle"]){t=n;break}return t},Winwheel.prototype.getCurrentPinNumber=function(){var t=0;if(this.pins){var e=this.getRotationPosition(),i=Math.floor(this.pointerAngle-e);i<0&&(i=360-Math.abs(i));for(var n=360/this.pins.number,a=0,s=0;s<this.pins.number;s++){if(i>=a&&i<=a+n){t=s;break}a+=n}"clockwise"===this.animation.direction&&(t++,t>this.pins.number&&(t=0))}return t},Winwheel.prototype.getRotationPosition=function(){var t=this.rotationAngle;if(t>=0){if(t>360){var e=Math.floor(t/360);t-=360*e}}else{if(t<-360){var i=Math.ceil(t/360);t-=360*i}t=360+t}return t},Winwheel.prototype.startAnimation=function(){if(this.animation){this.computeAnimation(),winwheelToDrawDuringAnimation=this;var t=new Array(null);t[this.animation.propertyName]=this.animation.propertyValue,t["yoyo"]=this.animation.yoyo,t["repeat"]=this.animation.repeat,t["ease"]=this.animation.easing,t["onUpdate"]=winwheelAnimationLoop,t["onComplete"]=winwheelStopAnimation,this.tween=gsap__WEBPACK_IMPORTED_MODULE_3__["a"].to(this,this.animation.duration,t)}},Winwheel.prototype.stopAnimation=function(t){winwheelToDrawDuringAnimation&&(winwheelToDrawDuringAnimation.tween&&winwheelToDrawDuringAnimation.tween.kill(),winwheelStopAnimation(t)),winwheelToDrawDuringAnimation=this},Winwheel.prototype.pauseAnimation=function(){this.tween&&this.tween.pause()},Winwheel.prototype.resumeAnimation=function(){this.tween&&this.tween.play()},Winwheel.prototype.computeAnimation=function(){this.animation&&("spinOngoing"===this.animation.type?(this.animation.propertyName="rotationAngle",null===this.animation.spins&&(this.animation.spins=5),null===this.animation.repeat&&(this.animation.repeat=-1),null===this.animation.easing&&(this.animation.easing="Linear.easeNone"),null===this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction&&(this.animation.propertyValue=0-this.animation.propertyValue)):"spinToStop"===this.animation.type?(this.animation.propertyName="rotationAngle",null===this.animation.spins&&(this.animation.spins=5),null===this.animation.repeat&&(this.animation.repeat=0),null===this.animation.easing&&(this.animation.easing="Power3.easeOut"),null===this.animation.stopAngle?this.animation._stopAngle=Math.floor(359*Math.random()):this.animation._stopAngle=360-this.animation.stopAngle+this.pointerAngle,null===this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):"spinAndBack"===this.animation.type?(this.animation.propertyName="rotationAngle",null===this.animation.spins&&(this.animation.spins=5),null===this.animation.repeat&&(this.animation.repeat=1),null===this.animation.easing&&(this.animation.easing="Power2.easeInOut"),null===this.animation.yoyo&&(this.animation.yoyo=!0),null===this.animation.stopAngle?this.animation._stopAngle=0:this.animation._stopAngle=360-this.animation.stopAngle,this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):this.animation.type)},Winwheel.prototype.getRandomForSegment=function(t){var e=0;if(t)if("undefined"!==typeof this.segments[t]){var i=this.segments[t].startAngle,n=this.segments[t].endAngle,a=n-i-2;a>0?e=i+1+Math.floor(Math.random()*a):console.log("Segment size is too small to safely get random angle inside it")}else console.log("Segment "+t+" undefined");else console.log("Segment number not specified");return e},Segment.prototype.changeImage=function(t,e){this.image=t,this.imgData=null,e&&(this.imageDirection=e),winhweelAlreadyDrawn=!1,this.imgData=new Image,this.imgData.onload=winwheelLoadedImage,this.imgData.src=this.image};var winwheelToDrawDuringAnimation=null;function winwheelStopAnimation(canCallback){if(!1!==canCallback){var callback=winwheelToDrawDuringAnimation.animation.callbackFinished;null!==callback&&("function"===typeof callback?callback(winwheelToDrawDuringAnimation.getIndicatedSegment()):eval(callback))}}var winhweelAlreadyDrawn=!1;function winwheelLoadedImage(){if(!1===winhweelAlreadyDrawn){for(var t=0,e=1;e<=winwheelToDrawDuringAnimation.numSegments;e++)null!==winwheelToDrawDuringAnimation.segments[e].imgData&&winwheelToDrawDuringAnimation.segments[e].imgData.height&&t++;t===winwheelToDrawDuringAnimation.numSegments&&(winhweelAlreadyDrawn=!0,winwheelToDrawDuringAnimation.draw())}}function winwheelResize(){var t=40;"undefined"!==typeof winwheelToDrawDuringAnimation._responsiveMargin&&(t=winwheelToDrawDuringAnimation._responsiveMargin);var e=window.innerWidth-t,i=winwheelToDrawDuringAnimation._responsiveMinWidth,n=winwheelToDrawDuringAnimation._responsiveMinHeight;e<i?e=i:e>winwheelToDrawDuringAnimation._originalCanvasWidth&&(e=winwheelToDrawDuringAnimation._originalCanvasWidth);var a=e/winwheelToDrawDuringAnimation._originalCanvasWidth;if(winwheelToDrawDuringAnimation.canvas.width=winwheelToDrawDuringAnimation._originalCanvasWidth*a,winwheelToDrawDuringAnimation._responsiveScaleHeight){var s=winwheelToDrawDuringAnimation._originalCanvasHeight*a;s<n?s=n:s>winwheelToDrawDuringAnimation._originalCanvasHeight&&(s=winwheelToDrawDuringAnimation._originalCanvasHeight),winwheelToDrawDuringAnimation.canvas.height=s}winwheelToDrawDuringAnimation.scaleFactor=a,winwheelToDrawDuringAnimation.draw()}__webpack_exports__["a"]=Winwheel},"38cf":function(t,e,i){var n=i("23e7"),a=i("1148");n({target:"String",proto:!0},{repeat:a})},"44e7":function(t,e,i){var n=i("861d"),a=i("c6b6"),s=i("b622"),r=s("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==a(t))}},6547:function(t,e,i){var n=i("a691"),a=i("1d80"),s=function(t){return function(e,i){var s,r,l=String(a(e)),o=n(i),h=l.length;return o<0||o>=h?t?"":void 0:(s=l.charCodeAt(o),s<55296||s>56319||o+1===h||(r=l.charCodeAt(o+1))<56320||r>57343?t?l.charAt(o):s:t?l.slice(o,o+2):r-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},"6ef4":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"win-wheel-container"},[i("canvas",{attrs:{id:"canvas",width:"500",height:"500"},on:{click:function(e){return t.startSpin()}}},[t._v(" Canvas not supported, use another browser. ")]),null!=t.prize?i("p",{staticClass:"prize"},[t._v(t._s(t.prize))]):t._e()])},a=[],s=i("30e8"),r={data:function(){return{theWheel:null,prize:null}},mounted:function(){this.theWheel=new s["a"]({numSegments:8,outerRadius:212,centerX:217,centerY:219,textFontSize:28,responsive:!0,segments:[{fillStyle:"#eae56f",text:"Prize 1"},{fillStyle:"#89f26e",text:"Prize 2"},{fillStyle:"#7de6ef",text:"Prize 3"},{fillStyle:"#e7706f",text:"Prize 4"},{fillStyle:"#eae56f",text:"Prize 5"},{fillStyle:"#89f26e",text:"Prize 6"},{fillStyle:"#7de6ef",text:"Prize 7"},{fillStyle:"#e7706f",text:"Prize 8"}],animation:{type:"spinToStop",duration:5,spins:8,callbackFinished:this.displayPrize},pointerGuide:{display:!0,strokeStyle:"black",lineWidth:5}})},methods:{displayPrize:function(t){this.prize=t.text},startSpin:function(){this.theWheel.stopAnimation(!1),this.theWheel.rotationAngle=this.theWheel.rotationAngle%360,this.theWheel.startAnimation()}}},l=r,o=(i("8a64"),i("2877")),h=Object(o["a"])(l,n,a,!1,null,null,null);e["default"]=h.exports},"81d5":function(t,e,i){"use strict";var n=i("7b0b"),a=i("23cb"),s=i("50c4");t.exports=function(t){var e=n(this),i=s(e.length),r=arguments.length,l=a(r>1?arguments[1]:void 0,i),o=r>2?arguments[2]:void 0,h=void 0===o?i:a(o,i);while(h>l)e[l++]=t;return e}},"8a64":function(t,e,i){"use strict";var n=i("0a7b"),a=i.n(n);a.a},"8aa5":function(t,e,i){"use strict";var n=i("6547").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},9263:function(t,e,i){"use strict";var n=i("ad6d"),a=RegExp.prototype.exec,s=String.prototype.replace,r=a,l=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),o=void 0!==/()??/.exec("")[1],h=l||o;h&&(r=function(t){var e,i,r,h,c=this;return o&&(i=new RegExp("^"+c.source+"$(?!\\s)",n.call(c))),l&&(e=c.lastIndex),r=a.call(c,t),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),o&&r&&r.length>1&&s.call(r[0],i,(function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(r[h]=void 0)})),r}),t.exports=r},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},cb29:function(t,e,i){var n=i("23e7"),a=i("81d5"),s=i("44d2");n({target:"Array",proto:!0},{fill:a}),s("fill")},d784:function(t,e,i){"use strict";var n=i("9112"),a=i("6eeb"),s=i("d039"),r=i("b622"),l=i("9263"),o=r("species"),h=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=!s((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,u){var g=r(t),d=!s((function(){var e={};return e[g]=function(){return 7},7!=""[t](e)})),m=d&&!s((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[o]=function(){return i},i.flags="",i[g]=/./[g]),i.exec=function(){return e=!0,null},i[g](""),!e}));if(!d||!m||"replace"===t&&!h||"split"===t&&!c){var p=/./[g],f=i(g,""[t],(function(t,e,i,n,a){return e.exec===l?d&&!a?{done:!0,value:p.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}})),w=f[0],x=f[1];a(String.prototype,t,w),a(RegExp.prototype,g,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)}),u&&n(RegExp.prototype[g],"sham",!0)}}}}]);
//# sourceMappingURL=javascript-winwheel.2d1da56c.js.map